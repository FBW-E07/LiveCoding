class MyPromise{
  constructor(resolver) {
    this.thenced = null    // => { onResolve, onReject }
    this.state = "pending" // rejected | resolved
    this.value             // undefined

    resolver(this.resolve, this.reject)

    // return this
  }


  resolve(result) {
    this.value = result
    this.state = "resolved"

     setTimeout(
      () => this.thenced.onResolve(result),
      0
    )
  }

  reject() {}

  then(onResolve, onReject) {
    this.thenced = {onResolve, onReject}
  }
}